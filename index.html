<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alerta de ActualizaciÃ³n</title>
    <link rel="stylesheet" href="style.css"> 
</head>
<body>

<div id="update-modal" class="modal-hidden">
    <div class="modal-content">
        <span class="close-button-top" id="close-button-top">&times;</span>
        <div class="icon-container">ðŸŽ‰</div> 
        <h2>Â¡Noticias Geniales! Â¡Nueva VersiÃ³n Lista!</h2>
        <p>Tenemos una actualizaciÃ³n emocionante esperando por ti. Descubre las Ãºltimas mejoras, funciones nuevas y un rendimiento aÃºn mejor. Â¡No te lo pierdas!</p>
        <button id="update-button" class="primary-btn">Â¡Actualizar y Disfrutar! âœ¨</button>
        <button id="close-button" class="secondary-btn">Luego, Â¡Gracias!</button>
    </div>
</div>

<p id="current-version"></p>

<script>
    // Tu cÃ³digo JavaScript debe ir aquÃ­ o enlazado desde un archivo externo.
    // Usaremos el JS que te di en el ejemplo anterior.
    document.addEventListener('DOMContentLoaded', () => {
        const REQUIRED_APP_VERSION = "1.1.0"; 
        const LOCAL_APP_VERSION = "1.0.5";   

        document.getElementById('current-version').textContent = `VersiÃ³n actual: ${LOCAL_APP_VERSION}`;

        const modal = document.getElementById('update-modal');
        const updateButton = document.getElementById('update-button');
        const closeButton = document.getElementById('close-button');
        const closeButtonTop = document.getElementById('close-button-top'); 

        function showModal() {
            modal.classList.add('modal-visible');
            modal.classList.remove('modal-hidden');
        }

        function hideModal() {
            modal.classList.remove('modal-visible');
            modal.classList.add('modal-hidden'); 
        }

        function checkForUpdate() {
            if (LOCAL_APP_VERSION < REQUIRED_APP_VERSION) {
                showModal();
            } else {
                hideModal(); 
            }
        }

        updateButton.addEventListener('click', () => {
            alert('Â¡Genial! La aplicaciÃ³n se actualizarÃ¡. Prepara tus marcadores y cachÃ© si es necesario.');
            localStorage.clear();
            window.location.href = window.location.href;
        });

        closeButton.addEventListener('click', hideModal); 
        closeButtonTop.addEventListener('click', hideModal); 

        checkForUpdate();
    });
</script>
</body>
</html>
